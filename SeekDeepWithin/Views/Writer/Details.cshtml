@using SeekDeepWithin.Controllers
@model SeekDeepWithin.Models.AuthorViewModel

@{
   ViewBag.Title = Model.Name;
}

<h3><small>writer</small> @Model.Name
      @if (Request.IsAuthenticated && User.IsInRole ("Editor")) {
         <span style="font-size: small">@Html.ActionLink("edit", "Edit", new { id = Model.Id })</span>
      }
</h3>
<div class="row">
   <div class="small-12 large-8 columns">
      <p>
         @if (!string.IsNullOrEmpty (Model.About)) {
            @Html.Raw(HtmlSanitizer.Sanitize (Model.About))
         } else {
            <div class="alert-box info"><em>No information about this writer! Sorry!</em></div>
         }
      </p>
   </div>
   <div class="small-12 large-4 columns">
      <ul class="pricing-table">
         <li class="title">Books Written</li>
         @foreach (var subBook in Model.Written) {
            <li class="bullet-item">
               @Html.ActionLink(subBook.Name == "default" ? subBook.Version.Title : subBook.Name,
                  "Read", "Chapter", new { id = subBook.Version.DefaultReadChapter }, null)
            </li>
         }
      </ul>
   </div>
</div>
