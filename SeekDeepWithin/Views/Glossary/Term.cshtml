@using SeekDeepWithin.Controllers
@model SeekDeepWithin.Models.GlossaryTermViewModel

@{
    ViewBag.Title = Model.Name;
}
<h3>
   @Model.Name
   @if (Request.IsAuthenticated && User.IsInRole ("Editor")) {
      <span style="font-size: small">@Html.ActionLink("add entry", "CreateEntry", new { termId = Model.Id, termName = Model.Name })</span>
   }
</h3>

<div class="row">
   <div class="small-12 large-9 columns">
      @if (Model.Entries.Count == 0) {
         <div class="alert-box info"><em>No entries have been added for this term! Sorry!</em></div>
      }
      @foreach (var entry in Model.Entries) {
         <div id="entry_@entry.Id">
            <div class="panel" style="padding: 3px 10px;">
               @if (Request.IsAuthenticated && User.IsInRole ("Editor")) {
                  <small>@Html.ActionLink("edit", "EditEntry", new { id = entry.Id, termId = Model.Id, termName = Model.Name })</small>
               }
               @if (!string.IsNullOrWhiteSpace (entry.SourceUrl)) {
                  <a href="@entry.SourceUrl" class="right" target="_blank">@entry.SourceName</a>
               }
               <small>@Html.ActionLink("edit source", "EditSource", "Source", new { id = entry.Id, type = "entry", parentId = Model.Id }, null)</small>
            </div>
            @Html.Raw(HtmlSanitizer.Sanitize (entry.Text))
         </div>
      }
   </div>
   <div class="small-12 large-3 columns">
      
   </div>
</div>
